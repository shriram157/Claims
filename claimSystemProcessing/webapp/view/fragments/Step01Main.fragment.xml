<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified" xmlns:l="sap.ui.layout"
	xmlns="sap.m" xmlns:table="sap.ui.table">
	<VBox class="sapUiSmallMargin" id="idpart01Form">
		<Panel width="auto" class="sapUiSmallMarginBottom" accessibleRole="Region">
			<headerToolbar>
				<Toolbar height="3rem">
					<Title text="{i18n>ClaimDetails}"/>
					<ToolbarSpacer/>
					<Title text="TCI Claim Number: {HeadSetData>/NumberOfWarrantyClaim}" textAlign="End"/>
				</Toolbar>
			</headerToolbar>
			<f:SimpleForm editable="true" layout="ResponsiveGridLayout" title="" labelSpanXL="6" labelSpanL="6" labelSpanM="12" labelSpanS="12"
				emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="3" columnsL="3" columnsM="3">
				<f:content>
					<core:Title text=""/>
					<Label text="Claim Type"/>
					<ComboBox id="ID_claimGroupsforParts" required="true"
						items="{path:'/ZC_CLAIM_GROUP', filters : [{path:'ClaimGroupDes', operator:'EQ', value1 : 'PART WAREHOUSE' }]}" change="onSelectClaim"
						selectedKey="{HeadSetData>/WarrantyClaimType}" enabled="{DateModel>/claimTypeEn}">
						<core:Item text="{ALMClaimTypeDes}" key="{ALMClaimType}"/>
					</ComboBox>
					<core:Title text=""/>
					<Label text="First Submission Date"/>
					<Text text="{ path: 'HeadSetData>/ReferenceDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' , pattern: 'YYYY-MM-dd'} }"/>
					<Label text="Claim Age"/>
					<Text text="{HeadSetData>/ClaimAge}"/>
					<Label text="Last Modified by"/>
					<Text text="{HeadSetData>/NameOfPersonRespWhoChangedObj}"/>
					<core:Title text=""/>
					<Label text="Last Submission Date"/>
					<Text text="{ path: 'HeadSetData>/DateOfApplication', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' , pattern: 'YYYY-MM-dd'} }"/>
					<Label text="Final Processed Date"/>
					<Text text="{ path: 'HeadSetData>/FinalProcdDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' , pattern: 'YYYY-MM-dd'} }"/>
					<Label text=""></Label>
					<Button text="{i18n>SaveClaim}" type="Emphasized" press="onSaveClaim">
						<layoutData>
							<l:GridData span="XL3 L3 "/>
						</layoutData>
					</Button>
				</f:content>
			</f:SimpleForm>
		</Panel>
		<f:SimpleForm editable="true" id="idClaimForm" layout="ResponsiveGridLayout" labelSpanXL="12" labelSpanL="12" labelSpanM="12"
			labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="3" columnsL="3" columnsM="3"
			singleContainerFullSize="false">
			<f:content>
				<core:Title text=""/>
				<Label text="Outbound Delivery Number"/>
				<Input value="{path:'HeadSetData>/Delivery', type : 'sap.ui.model.type.String', constraints : { minLength : 3, maxLength : 10 } }"
					required="true" id="idOutboundDNum"/>
				<Label text="Received Date"/>
				<DatePicker value="{path:'HeadSetData>/ShipmentReceivedDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium', pattern: 'YYYY-MM-dd' } }"
					required="true" id="idShipmentRDate"/>
				<Label text="Shipping Parts to PDC"/>
				<Select id="idPartsShipping">
					<items>
						<core:Item text="Yes" key="Yes"/>
						<core:Item text="No" key="No"/>
					</items>
				</Select>
				<core:Title text=""/>
				<Label text="Outbound Delivery Date"/>
				<DatePicker required="true" id="idOutBoundDD"
					value="{path:'HeadSetData>/DeliveryDate', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' , pattern: 'YYYY-MM-dd'}}"/>
				<Label text="PDC Code"/>
				<Input value="" id="idPdcCode" editable="false"/>
				<Label text="Dealer Contact"/>
				<Input value="{path:'HeadSetData>/DealerContact', type : 'sap.ui.model.type.String', constraints : { minLength : 3, maxLength : 10 } }"
					required="true" id="idDealerContact"/>
				<core:Title text=""/>
				<Label text="TCI Waybill No"/>
				<Input value="{HeadSetData>/TCIWaybillNumber}" id="idTCIWayBill" required="true"/>
				<Label text="Carrier Name"/>
				<ComboBox id="idCarrierName" required="true" items="{BpDealerModel>/BpDealerList}" change="onSelectPartsDealer"
					selectedKey="{HeadSetData>/DeliveringCarrier}" showSecondaryValues="true">
					<core:ListItem text="{BpDealerModel>BusinessPartner}" key="{BpDealerModel>BusinessPartnerKey}"
						additionalText="{BpDealerModel>BusinessPartnerName}"/>
				</ComboBox>
			</f:content>
		</f:SimpleForm>
		<f:SimpleForm id="idConditionForm" editable="true" title="" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3"
			labelSpanS="12" adjustLabelSpan="false" emptySpanXL="1" emptySpanL="1" emptySpanM="1" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1"
			singleContainerFullSize="false">
			<f:content>
				<core:Title text="Comments"/>
				<TextArea height="8rem" value="{HeadSetData>/HeadText}">
					<layoutData>
						<l:GridData span="XL8 L8 M8 S4"/>
					</layoutData>
				</TextArea>
				<Button text="Add">
					<layoutData>
						<l:GridData span="XL2 L2 M3 S4"/>
					</layoutData>
				</Button>
			</f:content>
		</f:SimpleForm>
	</VBox>
	<Panel width="auto" class="sapUiSmallMarginBottom" accessibleRole="Region">
		<headerToolbar>
			<Toolbar height="3rem">
				<Title text="Supporting Documents"/>
			</Toolbar>
		</headerToolbar>
		<content>
			<f:SimpleForm editable="true" title="" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12"
				adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="0" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1"
				singleContainerFullSize="false">
				<f:content>
					<UploadCollection change="onUploadChangeParts" id="UploadSupportingDoc" uploadComplete="onUploadCompleteParts" fileDeleted="onFileDeleted"
						beforeUploadStarts="onBeforeUpload" items="{ path: 'ClaimModel>/items', templateShareable: false }">
						<toolbar>
							<OverflowToolbar>
								<Breadcrumbs id="breadcrumbsSupportingDoc" currentLocationText="{ClaimModel>/currentLocationText}" links="{ClaimModel>/partsHistory}">
									<Link press="onBreadcrumbPress" text="{ClaimModel>fileName}"/>
								</Breadcrumbs>
								<ToolbarSpacer/>
								<UploadCollectionToolbarPlaceholder/>
							</OverflowToolbar>
						</toolbar>
						<items>
							<UploadCollectionItem selected="onSelectUpload" documentId="{ClaimModel>DOC_ID}" fileName="{ClaimModel>FileName}"
								mimeType="{ClaimModel>MIMETYPE}" thumbnailUrl="{ClaimModel>url}" url="{ClaimModel>URI}" enableEdit="{settings>/enableEdit}"
								enableDelete="{settings>/enableDelete}" visibleDelete="{settings>/visibleDelete}" visibleEdit="{settings>/visibleEdit}"></UploadCollectionItem>
						</items>
					</UploadCollection>
				</f:content>
			</f:SimpleForm>
		</content>
	</Panel>
	<Panel width="auto" class="sapUiSmallMarginBottom" accessibleRole="Region">
		<content>
			<table:Table id="idPartsTable" class="classRCPTable" selectionMode="Single" rows="{path:'LocalDataModel>/ClaimSum'}"
				visibleRowCountMode="Auto" rowSelectionChange="onNavigate" selectionBehavior="Row" showNoData="true" threshold="20"
				enableBusyIndicator="true">
				<table:toolbar>
					<Toolbar>
						<Title id="idTableTitle" text="Claim Amount Summary" level="H2"/>
						<ToolbarSpacer/>
						<!--<Button tooltip="View Settings" icon="sap-icon://drop-down-list" press="handleViewSettingsDialogButtonPressed"/>-->
					</Toolbar>
				</table:toolbar>
				<table:columns autoResizable="true">
					<table:Column width="17rem">
						<table:multiLabels>
							<Label text="(Totals included mark-up and discounts)" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>ItemType}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="11rem">
						<table:multiLabels>
							<Label text="Dealer Claimed Amount" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>DealerClaim}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="11rem">
						<table:multiLabels>
							<Label text="TCI Approved Amount" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>TCIAppr}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="11rem">
						<table:multiLabels>
							<Label text="Difference (CAD)" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>Diff}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="8rem" headerSpan="{multiHeaderConfig>/multiheader2}">
						<table:multiLabels>
							<Label text="GST/HST" textAlign="Center" width="100%"/>
							<Label text="Amount" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>GSTHSTAmt}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="8rem">
						<table:multiLabels>
							<Label text="GST/HST"/>
							<Label text="Tax %" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>GSTHSTRate}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="8rem" headerSpan="{multiHeaderConfig>/multiheader2}">
						<table:multiLabels>
							<Label text="PST/QST" textAlign="Center" width="100%"/>
							<Label text="Amount" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>PSTQSTAmt}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="8rem">
						<table:multiLabels>
							<Label text="PST/QST"/>
							<Label text="Tax %" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>PSTQSTRate}" wrapping="false"/>
						</table:template>
					</table:Column>
					<table:Column width="17rem">
						<table:multiLabels>
							<Label text="TCI Approved Amount Including Tax" textAlign="Center" width="100%"/>
						</table:multiLabels>
						<table:template hAlign = "Center">
							<Text text="{LocalDataModel>TCIApprInclTax}" wrapping="false"/>
						</table:template>
					</table:Column>
				</table:columns>
			</table:Table>
		</content>
		<HBox alignContent="Center" justifyContent="Center" class="sapUiTinyMarginTop">
			<Button class="sapUiTinyMarginBeginEnd" press="onPressBack" text="{i18n>BackList}" type="Back"/>
			<Button class="sapUiTinyMarginBeginEnd" press="onCancelClaim" text="{i18n>CancelClaim}" type="Reject"/>
			<Button class="sapUiTinyMarginBeginEnd" text="{i18n>Print}"/>
			<Button class="sapUiTinyMarginBeginEnd" press="onStep01Next" text="{i18n>Next}" type="Emphasized" enabled="{LocalDataModel>/step01Next}"/>
		</HBox>
	</Panel>
</core:FragmentDefinition>