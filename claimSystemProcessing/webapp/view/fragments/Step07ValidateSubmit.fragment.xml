<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified" xmlns:l="sap.ui.layout"
	xmlns="sap.m" xmlns:table="sap.ui.table">
	<VBox class="sapUiSmallMargin clFormTitleGap">
		<Panel width="100%" class="sapUiSmallMarginBottom">
			<headerToolbar>
				<Toolbar height="3rem">
					<Title text="{i18n>ClaimDetails}"/>
					<ToolbarSpacer/>
					<Title text="TCI Claim Number: {LocalDataModel>/ClaimDetails/NumberOfWarrantyClaim}" textAlign="End"/>
				</Toolbar>
			</headerToolbar>
			<f:SimpleForm editable="true" layout="ResponsiveGridLayout" title="" labelSpanXL="6" labelSpanL="6" labelSpanM="12" labelSpanS="12"
				adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="6" columnsL="6" columnsM="4"
				singleContainerFullSize="false">
				<f:content>
				<core:Title text=""/>
					<Label text="TCI Claim #"/>
					<Text text="{HeadSetData>/NumberOfWarrantyClaim}"/>
					<Label text="VIN">
					<layoutData>
						<l:GridData span="XL3 L3"/>
					</layoutData>
					</Label>
					<Text text="{HeadSetData>/ExternalObjectNumber}"/>
					<core:Title text=""/>
					<Label text="Dlr. Claim #"/>
					<Text text="{HeadSetData>/ExternalNumberOfClaim}"/>
					<Label text="OFP">
						<layoutData>
							<l:GridData span="XL3 L3"/>
						</layoutData>
					</Label>
					<Text text="{HeadSetData>/OFP}" />
					<core:Title text=""/>
					<Label text="RO #."/>
					<Text text="{HeadSetData>/RepairOrderNumberExternal}"/>
					<Label text="Op #."/>
					<Text text="{HeadSetData>/MainOpsCode}"/>
					<core:Title text=""/>
					<Label text="Repair Date"/>
					<Text
						text="{path:'HeadSetData>/RepairDate', type: 'sap.ui.model.type.Date', constraints: {displayFormat: 'Date' }, formatOptions: { style: 'medium', strictParsing: true , UTC: true}}"/>
					<Label text="Reg. Date"/>
					<Text text="{path:'HeadSetData>/RegDate'}"/>
					<core:Title text=""/>
					<Label text="Odometer"/>
					<Text text="{HeadSetData>/Odometer}"/>
					<Label text="Elapse"/>
					<Text text="{HeadSetData>/ElapsedMonths}"/>
					<core:Title text=""/>
					<Label text="Type"/>
					<Text text="{HeadSetData>/WarrantyClaimType}"/>
					<Label text="Status"/>
					<Text text="{HeadSetData>/ProcessingStatusOfWarrantyClm}"/>
				</f:content>
			</f:SimpleForm>
		</Panel>
		<table:Table class="classRCPTable" selectionMode="Single" rows="{path:'LocalDataModel>/ClaimSum'}" visibleRowCount="5"
			rowSelectionChange="onNavigate" selectionBehavior="Row" showNoData="true" threshold="5" enableBusyIndicator="true">
			<table:toolbar>
				<Toolbar>
					<Title text="Claim Amount Summary" level="H2"/>
					<ToolbarSpacer/>
					<!--<Button tooltip="View Settings" icon="sap-icon://drop-down-list" press="handleViewSettingsDialogButtonPressed"/>-->
				</Toolbar>
			</table:toolbar>
			<table:columns autoResizable="true">
				<table:Column width="17rem">
					<table:multiLabels>
						<Label text="(Totals included mark-up and discounts)" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{path:'LocalDataModel>ItemType', formatter: 'zclaimProcessing.utils.formatter.fnFormatText'}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="11rem">
					<table:multiLabels>
						<Label text="Dealer Claimed Amount" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>DealerClaim}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="11rem">
					<table:multiLabels>
						<Label text="TCI Approved Amount" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>TCIAppr}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="11rem">
					<table:multiLabels>
						<Label text="Difference (CAD)" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>Diff}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="8rem" headerSpan="{multiHeaderConfig>/multiheader2}">
					<table:multiLabels>
						<Label text="GST/HST" textAlign="Center" width="100%"/>
						<Label text="Amount" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>GSTHSTAmt}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="8rem">
					<table:multiLabels>
						<Label text="GST/HST"/>
						<Label text="Tax %" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>GSTHSTRate}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="8rem" headerSpan="{multiHeaderConfig>/multiheader2}">
					<table:multiLabels>
						<Label text="PST/QST" textAlign="Center" width="100%"/>
						<Label text="Amount" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>PSTQSTAmt}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="8rem">
					<table:multiLabels>
						<Label text="PST/QST"/>
						<Label text="Tax %" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>PSTQSTRate}" wrapping="false"/>
					</table:template>
				</table:Column>
				<table:Column width="17rem">
					<table:multiLabels>
						<Label text="TCI Approved Amount Including Tax" textAlign="Center" width="100%"/>
					</table:multiLabels>
					<table:template>
						<Text text="{LocalDataModel>TCIApprInclTax}" wrapping="false"/>
					</table:template>
				</table:Column>
			</table:columns>
		</table:Table>
		<List headerText="Error List" items="{ path: 'LocalDataModel>/oErrorSet' }">
			<ObjectListItem >
				<attributes>
					<ObjectAttribute text="Error #: {LocalDataModel>NUMBER}"/>
					<ObjectAttribute text="Error Type: {LocalDataModel>TYPE}"/>
					<ObjectAttribute text="Page:"/>
					<ObjectAttribute text="Line #: {LocalDataModel>POSNR}"/>
					<ObjectAttribute text="Error Description: {LocalDataModel>MESSAGE}"/>
				</attributes>
			</ObjectListItem>
		</List>
		<!--<f:SimpleForm editable="true" layout="ResponsiveGridLayout" title="Validation Results" labelSpanXL="6" labelSpanL="6" labelSpanM="12"-->
		<!--	labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="2" columnsM="2"-->
		<!--	singleContainerFullSize="false">-->
		<!--	<f:content>-->
		<!--		<core:Title text=""/>-->
		<!--		<Label text="Error #"/>-->
		<!--		<Text text="xxxxx "/>-->
		<!--		<Label text=" Error Type"/>-->
		<!--		<Text text="xxxxx"/>-->
		<!--		<Label text="Page"/>-->
		<!--		<Text text="xxxxx"/>-->
		<!--		<Label text="Error Description"/>-->
		<!--		<Text text="xxxxx"/>-->
		<!--	</f:content>-->
		<!--</f:SimpleForm>-->
		<HBox alignContent="Center" justifyContent="Center" class="sapUiTinyMarginTop">
			<Button class="sapUiTinyMarginBeginEnd" type="Back" press="onStep07Back" text="{i18n>Back}"/>
			<Button class="sapUiTinyMarginBeginEnd" press="onRevalidate" text="{i18n>SaveClaim}" enabled="{DateModel>SaveClaim07}"/>
			<Button class="sapUiTinyMarginBeginEnd" press="onSubmitTci" text="{i18n>SubmitToTCI}" type="Emphasized"/>
		</HBox>
	</VBox>
</core:FragmentDefinition>