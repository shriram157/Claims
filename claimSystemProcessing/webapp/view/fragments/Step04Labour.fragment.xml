<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified" xmlns:l="sap.ui.layout"
	xmlns="sap.m" xmlns:table="sap.ui.table" xmlns:custom="zclaimProcessing.control">
	<VBox class="sapUiSmallMargin clFormTitleGap">
		<Panel width="100%" class="sapUiSmallMarginBottom">
			<headerToolbar>
				<Toolbar height="3rem">
					<Title text="{i18n>ClaimDetails}"/>
					<ToolbarSpacer/>
					<Title text="TCI Claim Number: {LocalDataModel>/ClaimDetails/NumberOfWarrantyClaim}" textAlign="End"/>
				</Toolbar>
			</headerToolbar>
			<f:SimpleForm editable="true" layout="ResponsiveGridLayout" title="" labelSpanXL="6" labelSpanL="6" labelSpanM="12" labelSpanS="12"
				adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="6" columnsL="6" columnsM="4"
				singleContainerFullSize="false">
				<f:content>
					<core:Title text=""/>
					<Label text="TCI Claim #"/>
					<Text text="{HeadSetData>/NumberOfWarrantyClaim}"/>
					<Label text="VIN">
					<layoutData>
						<l:GridData span="XL3 L3"/>
					</layoutData>
					</Label>
					<Text text="{HeadSetData>/ExternalObjectNumber}"/>
					<core:Title text=""/>
					<Label text="Dlr. Claim #"/>
					<Text text="{HeadSetData>/ExternalNumberOfClaim}"/>
					<Label text="OFP">
						<layoutData>
							<l:GridData span="XL3 L4"/>
						</layoutData>
					</Label>
					<Text text="{HeadSetData>/OFP}"/>
					<core:Title text=""/>
					<Label text="RO #."/>
					<Text text="{HeadSetData>/RepairOrderNumberExternal}"/>
					<Label text="Op #."/>
					<Text text="{HeadSetData>/MainOpsCode}" id="idOFPLabour"/>
					<core:Title text=""/>
					<Label text="Repair Date"/>
					<Text
						text="{path:'HeadSetData>/RepairDate', type: 'sap.ui.model.type.Date', constraints: {displayFormat: 'Date' }, formatOptions: { style: 'medium', strictParsing: true , UTC: true}}"/>
					<Label text="Reg. Date"/>
					<Text text="{path:'HeadSetData>/RegDate'}"/>
					<core:Title text=""/>
					<Label text="Odometer"/>
					<Text text="{HeadSetData>/Odometer}"/>
					<Label text="Elapse"/>
					<Text text="{HeadSetData>/ElapsedMonths}"/>
					<core:Title text=""/>
					<Label text="Type"/>
					<Text text="{HeadSetData>/WarrantyClaimType}"/>
					<Label text="Status"/>
					<Text text="{HeadSetData>/ProcessingStatusOfWarrantyClm}"/>
				</f:content>
			</f:SimpleForm>
		</Panel>
		<!--<HBox justifyContent="End" width="100%">-->
		<!--<Button text="Add Part Line" type="Emphasized" press="onPressAddLabour"/>-->
		<!--	<Button text="Save Claim" type="Emphasized" press="onPressSaveClaimItemLabour"/>-->
		<!--</HBox>-->
		<f:SimpleForm editable="true" class=" sapUiTinyMarginBottom" layout="ResponsiveGridLayout" title="Labour Details" labelSpanXL="7"
			labelSpanL="7" labelSpanM="12" labelSpanS="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="6" columnsL="6"
			columnsM="6">
			<f:content>
				<core:Title text=""/>
				<Button text="Add Labour Line" press="onPressAddLabour" enabled="{DateModel>/oFormEdit}"/>
				<core:Title text=""/>
				<Button text="Update Labour Line" press="onPressUpdateLabour" enabled="{DateModel>/oFormEdit}"/>
				<core:Title text=""/>
				<Button text="Delete Labour Line" type="Reject" press="onPressDeleteLabour" enabled="{DateModel>/oFormEdit}"/>
				<core:Title text=""/>
				<Button text="Suggested Operations" press="onPressSuggestLabour" enabled="{DateModel>/oFormEdit}"/>
				<core:Title text=""/>
				<Label text="Labour Rate"/>
				<Text text="$12.00"/>
				<core:Title text=""/>
				<Button text="Save Claim" type="Emphasized" press="onPressSaveClaimItemLabour" enabled="{DateModel>/labourLine}"/>
			</f:content>
		</f:SimpleForm>
		<l:Grid containerQuery="true" defaultSpan="XL12 L12 M12 S12">
			<VBox class="clBgColor" wrap="Wrap" displayInline="true" alignContent="Center">
				<f:SimpleForm editable="true" class="sapUiResponsiveMargin ClsubHeadingLineHeight" width="95%" layout="ResponsiveGridLayout" title=""
					labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="5"
					columnsL="5" columnsM="3">
					<f:content>
						<core:Title text=""/>
						<Label text="Line #" textAlign="Left"/>
						<Text text=""/>
						<core:Title text=""/>
						<Label text="Operation Number" textAlign="Left"/>
						<Input type="Text" textFormatMode="Value" placeholder="Enter Operation Number" showSuggestion="true" showValueHelp="true"
							 id="idOperationLabour" value="{LabourDataModel>/LabourOp}" valueHelpRequest="handleValueHelpLabour"
							suggestionItems="{LocalDataModel>/SuggetionOperationList}" suggestionItemSelected="onSelectPositionCode" enabled="{DateModel>/labourLine}">
							<suggestionItems>
								<core:ListItem key="{LocalDataModel>J_3GKATNRC}" text="{LocalDataModel>J_3GKATNRC}" additionalText="{LocalDataModel>LTEXT}"/>
							</suggestionItems>
						</Input>
						<core:Title text=""/>
						<Label text="Description" textAlign="Left"/>
						<Input value="{LabourDataModel>/LabourDescription}" id="idLabourDes" editable="false"/>
						<core:Title text=""/>
						<Label text="Claimed Hours" textAlign="Left"/>
						<custom:CustomInputDecimal  value="{LabourDataModel>/ClaimedHours}" enabled="{DateModel>/labourLine}"/>
						<core:Title text=""/>
						<Label text=" " class="clTextIndent"/>
						<Button text="Save Labour" type="Emphasized" press="onPressSaveClaimItemLabour" enabled="{DateModel>/labourLine}"/>
					</f:content>
				</f:SimpleForm>
			</VBox>
		</l:Grid>
		<Table id="idLabourTable" mode="SingleSelectLeft" items="{path: 'LocalDataModel>/LabourPricingDataModel'}" growing="true"
			growingThreshold="5" noDataText="No Data" showNoData="true">
			<columns>
				<Column><Text text="Line #" textAlign="Center" width="100%"/></Column>
				<Column><Text text="Main Op#" textAlign="Center" width="100%"/></Column>
				<Column><Text text="Operation Number*" textAlign="Center" width="100%"/></Column>
				<Column><Text text="Description" textAlign="Center" width="100%"/>
					<footer><Text text="Sub-total : " textAlign="Center" width="100%"/></footer>
				</Column>
				<Column><Text text="Dealer Claimed Hours*" textAlign="Center" width="100%"/>
					<footer><Text textAlign="Center" width="100%"
						text="{path: 'LocalDataModel>/LabourPricingDataModel', formatter: 'zclaimProcessing.utils.formatter.fnClaimedHr'}"/></footer>
				</Column>
				<Column>
					<Text text="Amount Claimed" textAlign="Center" width="100%"/>
					<footer><Text textAlign="Center" width="100%"
						text="{path: 'LocalDataModel>/LabourPricingDataModel', formatter: 'zclaimProcessing.utils.formatter.fnAmountLabCLaim'}"/></footer>
				</Column>
				<Column><Text text="Total After Discount" textAlign="Center" width="100%"/>
					<footer><Text textAlign="Center" width="100%"
						text="{path: 'LocalDataModel>/LabourPricingDataModel', formatter: 'zclaimProcessing.utils.formatter.fnTotalAfDisLab'}"/></footer>
				</Column>
				<Column><Text text="Hours Approved by TCI" textAlign="Center" width="100%"/></Column>
				<Column><Text text="TCI Amount Approved" textAlign="Center" width="100%"/>
					<footer><Text textAlign="Center" width="100%"
						text="{path: 'LocalDataModel>/LabourPricingDataModel', formatter: 'zclaimProcessing.utils.formatter.fnHrApTCI'}"/></footer>
				</Column>
				<Column><Text text="Labour Difference" textAlign="Center" width="100%"/>
					<footer><Text textAlign="Center" width="100%"
						text="{path: 'LocalDataModel>/LabourPricingDataModel', formatter: 'zclaimProcessing.utils.formatter.fnLabDif'}"/></footer>
				</Column>
			</columns>
			<items>
				<ColumnListItem vAlign="Middle">
					<cells>
						<Text text="{LocalDataModel>posnr}" wrapping="true" textAlign="Center" width="100%" />
						<RadioButton groupName="GroupA" select="onSelectOFPLabour" textAlign="Center" width="100%" />
						<Text text="{path:'LocalDataModel>LabourNumber'}" wrapping="true"
							textAlign="Center" width="100%"/>
						<Text text="{LocalDataModel>LabourDescription}" wrapping="true" textAlign="Center" width="100%"/>
						<Text text="{LocalDataModel>QtyHrs}" wrapping="true" textAlign="Center" width="100%"/>
						<Text text="{LocalDataModel>AmtClaimed}" wrapping="true" textAlign="Center" width="100%"/>
						<Text text="{LocalDataModel>TotalAfterDisct}" wrapping="true" textAlign="Center" width="100%"/>
						<Text text="{LocalDataModel>HoursApprovedByTCI}" wrapping="true" textAlign="Center" width="100%"/>
						<Text text="{LocalDataModel>TCIApprAmt}" wrapping="true" textAlign="Center" width="100%"/>
						<Text text="{LocalDataModel>DiffAmt}" wrapping="true" textAlign="Center" width="100%"/>
					</cells>
				</ColumnListItem>
			</items>
		</Table>
		<HBox alignContent="Center" justifyContent="Center" class="sapUiTinyMarginTop">
			<Button class="sapUiTinyMarginBeginEnd" type="Back" press="onStep04Back" text="{i18n>Back}"/>
			<Button class="sapUiTinyMarginBeginEnd" press="onStep04Next" text="{i18n>Next}" type="Emphasized"/>
		</HBox>
	</VBox>
</core:FragmentDefinition>